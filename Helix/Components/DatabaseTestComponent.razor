@using Helix.Types

@inject HelixDiagram Diagram
@inject IJSRuntime Js

<MudCard Class="pa-8"
         @onkeydown:stopPropagation @onkeyup:stopPropagation
         @oncontextmenu:stopPropagation>
    <MudStack>
        <MudStack Row="true">
            <MudButton @onclick="Diagram.OnStore">Store Database</MudButton>
            <MudButton @onclick="Diagram.OnLoad">Load Database</MudButton>
        </MudStack>
        <MudButton @onclick="OnGC_Collect">GC.Collect</MudButton>
        <MudButton @onclick="OnDownloadDiagram">Download Diagram</MudButton>
    </MudStack>
</MudCard>

@code {

    [Parameter]
    [EditorRequired]
    public required Nodes.DatabaseTestNode Node { get; set; }

    private void OnGC_Collect()
    {
        GC.Collect();
    }

    private Task OnDownloadDiagram() => Utils.download_diagram(Js);

}